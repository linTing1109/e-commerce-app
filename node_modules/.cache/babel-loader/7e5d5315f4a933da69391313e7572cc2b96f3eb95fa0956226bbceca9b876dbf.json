{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavaPCSchool3\\\\e-commerce-app\\\\src\\\\Homework\\\\SalesReportHooks.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport picAsc from './pic/pic1.png';\nimport picDesc from './pic/pic2.png';\nimport picAll from './pic/pic3.png';\n\n//商品訂單列表api\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiUrl = 'http://localhost:8090/training/ecommerce/BackendController/queryGoodsSales';\n\n// 功能:後臺全部訂單頁面\nconst SalesReportHooks = () => {\n  _s();\n  // 這邊是使用當日日期換算 六個月前的資料:\n  const date = new Date(); //取得當天日期\n  const month = date.getMonth() + 1; //因為起始月:0開始 所以+1\n  const endMonth = month < 10 ? `0${month}` : month; //當日月份:需判斷是否有0的\n  const startMonth = month - 6 < 1 ? month - 6 + 12 : month - 6; //上半年月份:需判斷是否跨年\n  const dateStartMonth = startMonth < 10 ? `0${startMonth}` : startMonth; //當日日期:需判斷是否有0的\n  const startYear = month - 6 < 1 ? date.getFullYear() - 1 : date.getFullYear(); //上半年年份:需判斷是否跨年\n  const endYear = date.getFullYear(); //當日年份不需要變動\n  const nowday = date.getDate();\n  const dateDay = nowday < 10 ? `0${nowday}` : nowday;\n  const dateSText = `${startYear}-${dateStartMonth}-${dateDay}`; //組成開始的日期\n  const dateEText = `${endYear}-${endMonth}-${dateDay}`; //組成結束的日期\n\n  const [data, setData] = useState({\n    // 各欄位的初始化:每頁十筆 頁碼按鈕5個 近半年~當日\n    // reportData: null,\n    currentPageNo: 1,\n    pageDataSize: 10,\n    pagesIconSize: 5,\n    startDate: dateSText,\n    //預設傳入的是查詢當日~前六個月\n    endDate: dateEText,\n    //預設傳入的是查詢當日~前六個月\n    orderByItem: 'orderID',\n    //預設就是用訂單編號排\n    sort: 'ASC',\n    //起始&結束日期 是否有選擇了 控制觸發使用\n    searchStart: false,\n    searchEnd: false,\n    //回傳結果\n    goodsReportSalesList: null,\n    //放查詢回來的結果\n    genericPageable: null,\n    //放查詢回來相關頁碼資料使用\n\n    //控制各欄位排序顯示圖片\n    imagePicOrderID: picAsc,\n    imagePicOrderDate: picAll,\n    imagePicOrderCusName: picAll,\n    imagePicOrderGoodID: picAll,\n    imagePicOrderGoodName: picAll,\n    imagePicOrderGoodPrice: picAll,\n    imagePicOrderBuyQuantity: picAll\n  });\n\n  // 解構 \n  const {\n    currentPageNo,\n    pageDataSize,\n    pagesIconSize,\n    startDate,\n    endDate,\n    sort,\n    orderByItem,\n    searchStart,\n    searchEnd,\n    goodsReportSalesList,\n    genericPageable,\n    imagePicOrderID,\n    imagePicOrderDate,\n    imagePicOrderCusName,\n    imagePicOrderGoodID,\n    imagePicOrderGoodName,\n    imagePicOrderGoodPrice,\n    imagePicOrderBuyQuantity\n  } = data;\n\n  // 變更PageDataSize\n  const changePageDataSize = even => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      pageDataSize: even.target.value\n    }));\n  };\n\n  // 變更PagesIconSize\n  const changePagesIconSize = even => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      pagesIconSize: even.target.value\n    }));\n  };\n\n  // 變更startDate\n  const changeStartDate = even => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      startDate: even.target.value,\n      searchStart: true\n    }));\n  };\n\n  // 變更endDate\n  const changeEndDate = even => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      endDate: even.target.value,\n      searchEnd: true\n    }));\n  };\n\n  // 最首頁點擊\n  const clickPageStart = even => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      currentPageNo: 1\n    }));\n  };\n\n  // 最末頁點擊\n  const clickPageEnd = even => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      currentPageNo: genericPageable.endPageNo\n    }));\n  };\n\n  // 前一頁點擊\n  const clickPageSub = even => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      currentPageNo: currentPageNo - 1\n    }));\n  };\n\n  // 下一頁點擊\n  const clickPageAdd = () => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      currentPageNo: currentPageNo + 1\n    }));\n  };\n\n  // 每個頁面上的點擊\n  const clickPage = pageNo => {\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      currentPageNo: pageNo\n    }));\n  };\n\n  // 日期搜尋\n  const clickSearch = () => {\n    fetchList();\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      currentPageNo: 1,\n      //當重新查詢時候 頁面從第一頁開始顯示\n      //重新搜尋 將排序預定為訂單ID並且是ASC\n      sort: 'ASC',\n      orderByItem: 'orderID',\n      imagePicOrderID: picAsc,\n      imagePicOrderDate: picAll,\n      imagePicOrderCusName: picAll,\n      imagePicOrderGoodID: picAll,\n      imagePicOrderGoodName: picAll,\n      imagePicOrderGoodPrice: picAll,\n      imagePicOrderBuyQuantity: picAll\n    }));\n  };\n\n  // 各欄位排序圖片狀態顯示:(在input那邊需要搭配箭頭函式才可以使用)\n  const clickSortOrder = even => {\n    // const { sort } = this.state;\n    const newSort = sort === \"ASC\" ? \"DESC\" : \"ASC\"; // 點擊 ASC & DESC 互換\n    const imageValue = sort === \"ASC\" ? picDesc : picAsc; // 判斷變圖\n    const imagePicAll = picAll; // 原圖\n    setData(e => ({\n      ...e,\n      //hooks無法部分更新,加...e為保持原先欄位\n      sort: newSort,\n      // 傳給後端的值:因為後端訂單編號的順序跟日期順序是一樣的 沒有額外寫date排序\n      orderByItem: even.target.name === 'orderDate' ? 'orderID' : even.target.name,\n      //依照排序條件動態抽換圖片\n      imagePicOrderBuyQuantity: even.target.name === 'buyQuantity' ? imageValue : imagePicAll,\n      imagePicOrderID: even.target.name === 'orderID' ? imageValue : imagePicAll,\n      //even.target.name為的是要原本的觸發條件不要上面的\n      imagePicOrderDate: even.target.name === 'orderDate' ? imageValue : imagePicAll,\n      //even.target.name為的是要原本的觸發條件不要上面的\n      imagePicOrderCusName: even.target.name === 'customerName' ? imageValue : imagePicAll,\n      imagePicOrderGoodID: even.target.name === 'goodsID' ? imageValue : imagePicAll,\n      imagePicOrderGoodName: even.target.name === 'goodsName' ? imageValue : imagePicAll,\n      imagePicOrderGoodPrice: even.target.name === 'goodsBuyPrice' ? imageValue : imagePicAll\n    }));\n  };\n  useEffect(() => {\n    fetchList(); //componentDidMount\n  }, [currentPageNo, sort, orderByItem]); // componentDidUpdate:頁碼,升降冪,排序方式\n\n  // 後端api\n  const fetchList = async () => {\n    const params = {\n      \"currentPageNo\": currentPageNo,\n      \"pageDataSize\": pageDataSize,\n      \"pagesIconSize\": pagesIconSize,\n      \"startDate\": startDate,\n      \"endDate\": endDate,\n      \"orderByItem\": orderByItem,\n      \"sort\": sort\n    };\n    const reportData = await axios.get(apiUrl, {\n      params\n    }).then(rs => rs.data).catch(error => {\n      console.log(error);\n    });\n    //判斷式原因是: 避免api傳回空值 塞值時 導致傳入有誤 進而引發畫面為空\n    if (reportData && reportData.goodsReportSalesList && reportData.genericPageable) {\n      setData(e => ({\n        ...e,\n        //hooks無法部分更新,加...e為保持原先欄位\n        // reportData,\n        goodsReportSalesList: reportData.goodsReportSalesList,\n        genericPageable: reportData.genericPageable\n      }));\n    } else {\n      setData(e => ({\n        ...e,\n        //hooks無法部分更新,加...e為保持原先欄位\n        // reportData,\n        goodsReportSalesList: '',\n        genericPageable: ''\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"\\u67E5\\u8A62\\u65E5\\u671F\\u8D77\\uFF1A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      onChange: changeStartDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        marginLeft: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"\\u67E5\\u8A62\\u65E5\\u671F\\u8FC4\\uFF1A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      onChange: changeEndDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        marginLeft: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clickSearch,\n      disabled: !(searchStart && searchEnd),\n      children: \"\\u67E5\\u8A62\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"pageDataSize: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: changePageDataSize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 35\n      }, this), \"pagesIconSize: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: changePagesIconSize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this), goodsReportSalesList && genericPageable && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        border: '2',\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: [\"\\u8A02\\u55AE\\u7DE8\\u865F\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePicOrderID,\n                onClick: event => clickSortOrder(event),\n                name: \"orderID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: [\"\\u8CFC\\u8CB7\\u65E5\\u671F\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePicOrderDate,\n                onClick: event => clickSortOrder(event),\n                name: \"orderDate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: [\"\\u9867\\u5BA2\\u59D3\\u540D\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePicOrderCusName,\n                onClick: event => clickSortOrder(event),\n                name: \"customerName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: [\"\\u5546\\u54C1\\u7DE8\\u865F\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePicOrderGoodID,\n                onClick: event => clickSortOrder(event),\n                name: \"goodsID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: [\"\\u5546\\u54C1\\u540D\\u7A31\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePicOrderGoodName,\n                onClick: event => clickSortOrder(event),\n                name: \"goodsName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: [\"\\u5546\\u54C1\\u50F9\\u683C\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePicOrderGoodPrice,\n                onClick: event => clickSortOrder(event),\n                name: \"goodsBuyPrice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: [\"\\u8CFC\\u8CB7\\u6578\\u91CF\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePicOrderBuyQuantity,\n                onClick: event => clickSortOrder(event),\n                name: \"buyQuantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: goodsReportSalesList.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.orderID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(item.orderDate).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.customerName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.goodsID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.goodsName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.goodsBuyPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.buyQuantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 25\n            }, this)]\n          }, item.orderID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: genericPageable.currentPageNo == 1,\n          onClick: () => clickPageStart(),\n          children: '<<'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: genericPageable.currentPageNo < 2,\n          onClick: () => clickPageSub(),\n          children: '<'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this), genericPageable.pagination.map((pageNo, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => clickPage(pageNo),\n            children: currentPageNo === pageNo ? /*#__PURE__*/_jsxDEV(\"b\", {\n              children: /*#__PURE__*/_jsxDEV(\"u\", {\n                children: pageNo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 55\n            }, this) : pageNo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: genericPageable.currentPageNo >= genericPageable.endPageNo,\n          onClick: () => clickPageAdd(),\n          children: '>'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: currentPageNo == genericPageable.endPageNo,\n          onClick: () => clickPageEnd(),\n          children: '>>'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this), \"Hooks \\u6E2C\\u8A66\\u8CC7\\u6599\\u7528:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 21\n    }, this), \"startDate:\", startDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 30\n    }, this), \"endDate:\", endDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 26\n    }, this), \"currentPageNo:\", currentPageNo, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 38\n    }, this), \"pageDataSize:\", pageDataSize, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 36\n    }, this), \"pagesIconSize:\", pagesIconSize, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 38\n    }, this), \"sort:\", sort, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 20\n    }, this), \"orderByItem:\", orderByItem, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 9\n  }, this);\n};\n_s(SalesReportHooks, \"MBL7Ky5z/0ZfyaoZ6YyY3SFbXEs=\");\n_c = SalesReportHooks;\nexport default SalesReportHooks;\nvar _c;\n$RefreshReg$(_c, \"SalesReportHooks\");","map":{"version":3,"names":["React","useState","useEffect","axios","picAsc","picDesc","picAll","jsxDEV","_jsxDEV","apiUrl","SalesReportHooks","_s","date","Date","month","getMonth","endMonth","startMonth","dateStartMonth","startYear","getFullYear","endYear","nowday","getDate","dateDay","dateSText","dateEText","data","setData","currentPageNo","pageDataSize","pagesIconSize","startDate","endDate","orderByItem","sort","searchStart","searchEnd","goodsReportSalesList","genericPageable","imagePicOrderID","imagePicOrderDate","imagePicOrderCusName","imagePicOrderGoodID","imagePicOrderGoodName","imagePicOrderGoodPrice","imagePicOrderBuyQuantity","changePageDataSize","even","e","target","value","changePagesIconSize","changeStartDate","changeEndDate","clickPageStart","clickPageEnd","endPageNo","clickPageSub","clickPageAdd","clickPage","pageNo","clickSearch","fetchList","clickSortOrder","newSort","imageValue","imagePicAll","name","params","reportData","get","then","rs","catch","error","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","style","marginLeft","onClick","disabled","border","src","event","map","item","index","orderID","orderDate","toLocaleString","customerName","goodsID","goodsName","goodsBuyPrice","buyQuantity","pagination","_c","$RefreshReg$"],"sources":["C:/JavaPCSchool3/e-commerce-app/src/Homework/SalesReportHooks.js"],"sourcesContent":["import React ,{useState,useEffect} from 'react'\r\nimport axios from \"axios\";\r\nimport picAsc from './pic/pic1.png';\r\nimport picDesc from './pic/pic2.png';\r\nimport picAll from './pic/pic3.png';\r\n\r\n//商品訂單列表api\r\nconst apiUrl = 'http://localhost:8090/training/ecommerce/BackendController/queryGoodsSales';\r\n\r\n// 功能:後臺全部訂單頁面\r\nconst SalesReportHooks = () => {\r\n\r\n    // 這邊是使用當日日期換算 六個月前的資料:\r\n    const date = new Date();//取得當天日期\r\n    const month = date.getMonth() + 1;//因為起始月:0開始 所以+1\r\n    const endMonth = month < 10 ? `0${month}` : month; //當日月份:需判斷是否有0的\r\n    const startMonth = month-6 < 1 ? month-6+12 : month-6;//上半年月份:需判斷是否跨年\r\n    const dateStartMonth = startMonth <10 ? `0${startMonth}` : startMonth;//當日日期:需判斷是否有0的\r\n    const startYear = month-6 < 1 ? date.getFullYear()-1 :date.getFullYear();//上半年年份:需判斷是否跨年\r\n    const endYear = date.getFullYear();//當日年份不需要變動\r\n    const nowday = date.getDate();\r\n    const dateDay= nowday <10 ?  `0${nowday}` : nowday;\r\n    const dateSText = `${startYear}-${dateStartMonth}-${dateDay}`;//組成開始的日期\r\n    const dateEText = `${endYear}-${endMonth}-${dateDay}`;//組成結束的日期\r\n    \r\n    \r\n    const [data, setData] = useState({\r\n\r\n        // 各欄位的初始化:每頁十筆 頁碼按鈕5個 近半年~當日\r\n        // reportData: null,\r\n        currentPageNo:1,\r\n        pageDataSize:10,\r\n        pagesIconSize:5,\r\n        startDate:dateSText, //預設傳入的是查詢當日~前六個月\r\n        endDate:dateEText,//預設傳入的是查詢當日~前六個月\r\n        orderByItem :'orderID', //預設就是用訂單編號排\r\n        sort:'ASC',\r\n        //起始&結束日期 是否有選擇了 控制觸發使用\r\n        searchStart:false,\r\n        searchEnd:false,\r\n\r\n         //回傳結果\r\n         goodsReportSalesList: null, //放查詢回來的結果\r\n         genericPageable: null,//放查詢回來相關頁碼資料使用\r\n        \r\n        //控制各欄位排序顯示圖片\r\n        imagePicOrderID:picAsc,\r\n        imagePicOrderDate:picAll,\r\n        imagePicOrderCusName:picAll,\r\n        imagePicOrderGoodID:picAll,\r\n        imagePicOrderGoodName:picAll,\r\n        imagePicOrderGoodPrice:picAll,\r\n        imagePicOrderBuyQuantity:picAll,\r\n    });\r\n\r\n    // 解構 \r\n    const {currentPageNo,pageDataSize,pagesIconSize,startDate,endDate,sort,orderByItem,\r\n        searchStart,searchEnd,goodsReportSalesList,genericPageable,\r\n        imagePicOrderID,imagePicOrderDate,imagePicOrderCusName,imagePicOrderGoodID,\r\n        imagePicOrderGoodName,imagePicOrderGoodPrice,imagePicOrderBuyQuantity} =data ;\r\n   \r\n    // 變更PageDataSize\r\n    const changePageDataSize = (even)  => { \r\n        setData( e => ({\r\n            ...e, //hooks無法部分更新,加...e為保持原先欄位\r\n            pageDataSize:even.target.value}));\r\n    }\r\n    \r\n     // 變更PagesIconSize\r\n    const changePagesIconSize = (even)  => {\r\n    setData( e => ({\r\n        ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n        pagesIconSize:even.target.value}));\r\n    }\r\n\r\n    // 變更startDate\r\n    const changeStartDate = (even)  => {\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            startDate:even.target.value,\r\n            searchStart:true}));\r\n    }\r\n\r\n    // 變更endDate\r\n    const changeEndDate = (even)  => {\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            endDate:even.target.value,\r\n            searchEnd:true}));\r\n    }\r\n\r\n    // 最首頁點擊\r\n    const clickPageStart = (even)  => {\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            currentPageNo:1}));\r\n    }\r\n\r\n    // 最末頁點擊\r\n    const clickPageEnd = (even)  => {\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            currentPageNo:genericPageable.endPageNo}));\r\n    }\r\n\r\n\r\n    // 前一頁點擊\r\n    const clickPageSub = (even)  => {\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            currentPageNo: currentPageNo-1}));\r\n    }\r\n\r\n\r\n    // 下一頁點擊\r\n    const clickPageAdd = ()  => {\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            currentPageNo: currentPageNo+1}));\r\n    }\r\n\r\n    // 每個頁面上的點擊\r\n    const clickPage = (pageNo)  => {\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            currentPageNo: pageNo}));\r\n    }\r\n\r\n    // 日期搜尋\r\n    const clickSearch = ()  => {\r\n        fetchList();\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            currentPageNo: 1,//當重新查詢時候 頁面從第一頁開始顯示\r\n            //重新搜尋 將排序預定為訂單ID並且是ASC\r\n            sort:'ASC',\r\n            orderByItem :'orderID',\r\n            imagePicOrderID: picAsc, \r\n            imagePicOrderDate: picAll,\r\n            imagePicOrderCusName:picAll,\r\n            imagePicOrderGoodID:picAll,\r\n            imagePicOrderGoodName:picAll,\r\n            imagePicOrderGoodPrice:picAll,\r\n            imagePicOrderBuyQuantity: picAll,\r\n\r\n        })); \r\n    }\r\n\r\n    \r\n    // 各欄位排序圖片狀態顯示:(在input那邊需要搭配箭頭函式才可以使用)\r\n    const clickSortOrder = (even) => {\r\n        // const { sort } = this.state;\r\n        const newSort = sort === \"ASC\" ? \"DESC\" : \"ASC\"; // 點擊 ASC & DESC 互換\r\n        const imageValue = sort === \"ASC\" ? picDesc : picAsc; // 判斷變圖\r\n        const imagePicAll = picAll; // 原圖\r\n        setData( e => ({\r\n            ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n            sort: newSort ,\r\n            // 傳給後端的值:因為後端訂單編號的順序跟日期順序是一樣的 沒有額外寫date排序\r\n            orderByItem:even.target.name ==='orderDate'? 'orderID':even.target.name,\r\n            \r\n            //依照排序條件動態抽換圖片\r\n            imagePicOrderBuyQuantity:even.target.name=== 'buyQuantity' ? imageValue : imagePicAll,\r\n            imagePicOrderID:even.target.name === 'orderID' ? imageValue : imagePicAll, //even.target.name為的是要原本的觸發條件不要上面的\r\n            imagePicOrderDate:even.target.name === 'orderDate' ? imageValue : imagePicAll,//even.target.name為的是要原本的觸發條件不要上面的\r\n            imagePicOrderCusName:even.target.name === 'customerName' ? imageValue : imagePicAll,\r\n            imagePicOrderGoodID:even.target.name === 'goodsID' ? imageValue : imagePicAll,\r\n            imagePicOrderGoodName:even.target.name === 'goodsName' ? imageValue : imagePicAll,\r\n            imagePicOrderGoodPrice:even.target.name === 'goodsBuyPrice' ? imageValue : imagePicAll,\r\n\r\n        }));\r\n    }\r\n        \r\n      \r\n    useEffect(() => {\r\n        fetchList();//componentDidMount\r\n    },[currentPageNo,sort,orderByItem]);// componentDidUpdate:頁碼,升降冪,排序方式\r\n\r\n    // 後端api\r\n    const fetchList = async() => {\r\n        const params =  { \"currentPageNo\": currentPageNo, \"pageDataSize\": pageDataSize, \"pagesIconSize\": pagesIconSize\r\n        , \"startDate\": startDate, \"endDate\":endDate, \"orderByItem\": orderByItem,\"sort\": sort,\r\n        };\r\n        const reportData = await axios.get(apiUrl, { params })\r\n            .then(rs => rs.data)\r\n            .catch(error => { console.log(error); });\r\n        //判斷式原因是: 避免api傳回空值 塞值時 導致傳入有誤 進而引發畫面為空\r\n        if (reportData && reportData.goodsReportSalesList && reportData.genericPageable) {\r\n            setData( e => ({\r\n                    ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n                    // reportData,\r\n                    goodsReportSalesList: reportData.goodsReportSalesList, \r\n                    genericPageable: reportData.genericPageable\r\n                }));\r\n        }  else { \r\n            setData( e => ({\r\n                ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n                // reportData,\r\n                goodsReportSalesList: '', \r\n                genericPageable: ''\r\n            }));\r\n        }     \r\n    };\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <label>查詢日期起：</label> <input type='date' onChange={changeStartDate}/>\r\n            <label style={{ marginLeft: '20px' }} />\r\n            <label>查詢日期迄：</label> <input type='date' onChange={changeEndDate}/>\r\n            \r\n\r\n            <label style={{ marginLeft: '20px' }} />\r\n            {/* 起訖日皆有選擇時 查詢按鈕才可以點選 */}\r\n            <button onClick={clickSearch} disabled={!(searchStart && searchEnd)}>查詢</button>\r\n           \r\n            <br />\r\n            <label>\r\n                    pageDataSize: <input type='number' onChange={changePageDataSize} />\r\n                    pagesIconSize: <input type='number'onChange={changePagesIconSize}/>\r\n            </label>\r\n            {/* 前提條件需要 goodsReportSalesList &  genericPageable 有值才會顯示表格 */}\r\n            {goodsReportSalesList && genericPageable &&\r\n                <div>\r\n                <table border={'2'}>\r\n                    <thead>\r\n                        <tr>          \r\n                            <th>訂單編號<img src={imagePicOrderID} onClick={(event) => clickSortOrder(event)} name='orderID'/></th>\r\n                            <th>購買日期<img src={imagePicOrderDate} onClick={(event) => clickSortOrder(event)} name='orderDate'/></th> \r\n                            <th>顧客姓名<img src={imagePicOrderCusName}  onClick={(event) => clickSortOrder(event)} name='customerName'/></th>\r\n                            <th>商品編號<img src={imagePicOrderGoodID} onClick={(event) => clickSortOrder(event)} name='goodsID'/></th>\r\n                            <th>商品名稱<img src={imagePicOrderGoodName} onClick={(event) => clickSortOrder(event)} name='goodsName'/></th>\r\n                            <th>商品價格<img src={imagePicOrderGoodPrice} onClick={(event) => clickSortOrder(event)}  name='goodsBuyPrice'/></th>\r\n                            <th>購買數量<img src={imagePicOrderBuyQuantity} onClick={(event) => clickSortOrder(event)} name='buyQuantity'/></th>\r\n                            \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {goodsReportSalesList.map((item, index) => (\r\n                        <tr key={item.orderID}> \r\n                        \r\n                        <td>{item.orderID}</td>                      \r\n                        <td>{new Date(item.orderDate).toLocaleString()}</td>\r\n                        {/* 將字串轉換成符合當地環境日期格式 */}\r\n                        {/* <td>{item.customerID}</td> */}\r\n                        <td>{item.customerName}</td>\r\n                        <td>{item.goodsID}</td>\r\n                        <td>{item.goodsName}</td>\r\n                        <td>{item.goodsBuyPrice}</td>\r\n                        <td>{item.buyQuantity}</td>\r\n                        \r\n                        </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <hr/> \r\n                <div>\r\n                \r\n                    \r\n                    <button disabled={genericPageable.currentPageNo ==1}\r\n                    onClick={() => clickPageStart()}>{'<<'}</button>\r\n                    <button disabled={genericPageable.currentPageNo <2}\r\n                    onClick={() => clickPageSub()}>{'<'}</button>\r\n                    \r\n                    {genericPageable.pagination.map((pageNo, index) => (\r\n                        \r\n                        <span key={index}>\r\n                            \r\n                        <button onClick={() => clickPage(pageNo)}>\r\n                            {/* 如果為當前頁面 粗體&下底線 */}\r\n                            {currentPageNo ===pageNo ?<b><u>{pageNo}</u></b> :pageNo}\r\n                        </button>\r\n                        </span>\r\n                    ))}\r\n\r\n                    <button disabled={genericPageable.currentPageNo >= genericPageable.endPageNo } \r\n                    onClick={() => clickPageAdd()}>{'>'}</button>\r\n\r\n                    <button disabled={currentPageNo==genericPageable.endPageNo  }\r\n                    onClick={() => clickPageEnd()}>{'>>'}</button>\r\n                </div> \r\n                </div>\r\n                }\r\n        <hr/>    \r\n        Hooks 測試資料用:<br/>\r\n        startDate:{startDate}<br/>\r\n        endDate:{endDate}<br/>\r\n        currentPageNo:{currentPageNo}<br/>\r\n        pageDataSize:{pageDataSize}<br/>\r\n        pagesIconSize:{pagesIconSize}<br/>\r\n        sort:{sort}<br/>\r\n        orderByItem:{orderByItem}<br/>\r\n        {/* imagePicOrderID:<img src={imagePicOrderID}></img><br/> */}\r\n        {/* {goodsReportSalesList} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SalesReportHooks\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}