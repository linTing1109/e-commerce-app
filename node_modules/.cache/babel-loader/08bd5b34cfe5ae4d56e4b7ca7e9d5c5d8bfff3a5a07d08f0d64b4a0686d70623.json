{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavaPCSchool3\\\\e-commerce-app\\\\src\\\\MemberCheck.js\",\n  _s = $RefreshSig$();\nimport React, { Component, useState, useEffect, Fragment } from 'react';\nimport { BrowserRouter, Link, Routes, Route, useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\n\n//檢查登入\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiUrlcheckLogin = 'http://localhost:8090/training/ecommerce/MemberController/checkLogin';\nconst MemberCheck = () => {\n  _s();\n  const [data, setData] = useState({\n    idNo: '',\n    cusName: '',\n    loginMessage: '',\n    isLogin: false\n  });\n  // 解構 \n  const {\n    idNo,\n    cusName,\n    loginMessage,\n    isLogin\n  } = data;\n  const fetchList = async () => {\n    const memberData = await axios.get(apiUrlcheckLogin, {\n      withCredentials: true\n    }).then(rs => rs.data).catch(error => {\n      console.log(error);\n    });\n    setData(prevState => ({\n      ...prevState,\n      idNo: memberData.identificationNo,\n      cusName: memberData.cusName,\n      loginMessage: memberData.loginMessage,\n      isLogin: memberData.isLogin\n    }));\n  };\n  // 生命週期放置的位置\n  useEffect(() => {\n    fetchList();\n  }, [idNo]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: cusName && /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [\"\\u6B61\\u8FCE\\u5149\\u81E8 \", cusName, \" \\u5148\\u751F/\\u5C0F\\u59D0\\u60A8\\u597D!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(MemberCheck, \"56K4Doy1ka81k5RM4PWrcuVpxmE=\");\n_c = MemberCheck;\nexport default MemberCheck;\nvar _c;\n$RefreshReg$(_c, \"MemberCheck\");","map":{"version":3,"names":["React","Component","useState","useEffect","Fragment","BrowserRouter","Link","Routes","Route","useLocation","axios","jsxDEV","_jsxDEV","apiUrlcheckLogin","MemberCheck","_s","data","setData","idNo","cusName","loginMessage","isLogin","fetchList","memberData","get","withCredentials","then","rs","catch","error","console","log","prevState","identificationNo","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/JavaPCSchool3/e-commerce-app/src/MemberCheck.js"],"sourcesContent":["import React, { Component,useState,useEffect, Fragment } from 'react';\r\nimport { BrowserRouter, Link, Routes, Route,useLocation} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n//檢查登入\r\nconst apiUrlcheckLogin = 'http://localhost:8090/training/ecommerce/MemberController/checkLogin';\r\n\r\nconst MemberCheck = () => {\r\n    const [data, setData] = useState({\r\n        \r\n        idNo: '', \r\n        cusName:'',\r\n        loginMessage: '',\r\n        isLogin:false,\r\n        \r\n      });\r\n// 解構 \r\n  const {idNo,cusName,loginMessage,isLogin} =data ;\r\n  const fetchList = async () => {\r\n    const memberData = await axios\r\n      .get(apiUrlcheckLogin, { withCredentials: true })\r\n      .then((rs) => rs.data)\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    setData((prevState) => ({\r\n      ...prevState,\r\n      idNo: memberData.identificationNo,\r\n      cusName: memberData.cusName,\r\n      loginMessage: memberData.loginMessage,\r\n      isLogin: memberData.isLogin,\r\n    })\r\n    );\r\n  };\r\n  // 生命週期放置的位置\r\n  useEffect(() => {\r\n    fetchList();\r\n  },\r\n  [idNo]);\r\n\r\n  return (\r\n    <div>\r\n     {cusName &&  <Fragment>歡迎光臨 {cusName} 先生/小姐您好!</Fragment> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MemberCheck\r\n\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAACC,QAAQ,EAACC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACrE,SAASC,aAAa,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAACC,WAAW,QAAO,kBAAkB;AAChF,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,gBAAgB,GAAG,sEAAsE;AAE/F,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC;IAE7BgB,IAAI,EAAE,EAAE;IACRC,OAAO,EAAC,EAAE;IACVC,YAAY,EAAE,EAAE;IAChBC,OAAO,EAAC;EAEV,CAAC,CAAC;EACR;EACE,MAAM;IAACH,IAAI;IAACC,OAAO;IAACC,YAAY;IAACC;EAAO,CAAC,GAAEL,IAAI;EAC/C,MAAMM,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMC,UAAU,GAAG,MAAMb,KAAK,CAC3Bc,GAAG,CAACX,gBAAgB,EAAE;MAAEY,eAAe,EAAE;IAAK,CAAC,CAAC,CAChDC,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACX,IAAI,CAAC,CACrBY,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;IAEJZ,OAAO,CAAEe,SAAS,KAAM;MACtB,GAAGA,SAAS;MACZd,IAAI,EAAEK,UAAU,CAACU,gBAAgB;MACjCd,OAAO,EAAEI,UAAU,CAACJ,OAAO;MAC3BC,YAAY,EAAEG,UAAU,CAACH,YAAY;MACrCC,OAAO,EAAEE,UAAU,CAACF;IACtB,CAAC,CACD,CAAC;EACH,CAAC;EACD;EACAlB,SAAS,CAAC,MAAM;IACdmB,SAAS,CAAC,CAAC;EACb,CAAC,EACD,CAACJ,IAAI,CAAC,CAAC;EAEP,oBACEN,OAAA;IAAAsB,QAAA,EACEf,OAAO,iBAAKP,OAAA,CAACR,QAAQ;MAAA8B,QAAA,GAAC,2BAAK,EAACf,OAAO,EAAC,yCAAS;IAAA;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAU;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrD,CAAC;AAEV,CAAC;AAAAvB,EAAA,CAvCKD,WAAW;AAAAyB,EAAA,GAAXzB,WAAW;AAyCjB,eAAeA,WAAW;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}