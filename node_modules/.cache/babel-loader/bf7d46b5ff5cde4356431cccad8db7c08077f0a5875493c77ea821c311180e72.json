{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavaPCSchool3\\\\e-commerce-app\\\\src\\\\Homework\\\\ClearCarGoods.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, setData } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\n//清空購物車\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiUrl3 = 'http://localhost:8090/training/ecommerce/MemberController/clearCartGoods';\nconst ClearCarGoods = () => {\n  _s();\n  const navigate = useNavigate();\n  // 後端api:清空購物車\n  const fetchList3 = async () => {\n    // const params =  { \"cusName\": cusName, \"homeNumber\": homeNumber, \"mobileNumber\": mobileNumber, \"orderAddr\": orderAddr};\n\n    const clearGoodsData = await axios.delete(apiUrl3, {\n      withCredentials: true\n    }).then(rs => rs.data).catch(error => {\n      console.log(error);\n    });\n    navigate(\"/SearchGoods\"); //導入到購買頁面\n    setData(e => ({\n      ...e //hooks無法部分更新,加...e為保持原先欄位\n\n      // clearGoodsData:clearGoodsData,\n\n      // customer: sendGoodsData.customer, \n      // orderGoodsList: sendGoodsData.orderGoodsList,\n      // queryGoodDataWebPage:queryGoodsData,//因為到時候要清空session購物車 用這個裝來畫頁面\n\n      // queryGoodsData:clearGoodsData,//送出訂單後 購物車要清空\n    }));\n  };\n\n  const clearCartGoods = () => {\n    fetchList3();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clearCartGoods,\n      children: \"\\u6E05\\u7A7A\\u8CFC\\u7269\\u8ECA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_s(ClearCarGoods, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = ClearCarGoods;\nexport default ClearCarGoods;\nvar _c;\n$RefreshReg$(_c, \"ClearCarGoods\");","map":{"version":3,"names":["React","useState","useEffect","useRef","setData","useNavigate","axios","jsxDEV","_jsxDEV","apiUrl3","ClearCarGoods","_s","navigate","fetchList3","clearGoodsData","delete","withCredentials","then","rs","data","catch","error","console","log","e","clearCartGoods","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/JavaPCSchool3/e-commerce-app/src/Homework/ClearCarGoods.js"],"sourcesContent":["import React, { useState, useEffect,useRef ,setData } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n//清空購物車\r\nconst apiUrl3 = 'http://localhost:8090/training/ecommerce/MemberController/clearCartGoods';\r\n\r\nconst ClearCarGoods = () => {\r\n\r\n    const navigate = useNavigate();\r\n    // 後端api:清空購物車\r\n    const fetchList3 = async () => {\r\n        // const params =  { \"cusName\": cusName, \"homeNumber\": homeNumber, \"mobileNumber\": mobileNumber, \"orderAddr\": orderAddr};\r\n\r\n        const clearGoodsData = await axios.delete(apiUrl3,{ withCredentials: true })\r\n            .then(rs => rs.data)\r\n            .catch(error => { console.log(error); });\r\n            navigate(\"/SearchGoods\");//導入到購買頁面\r\n            setData( e => ({\r\n                ...e,//hooks無法部分更新,加...e為保持原先欄位\r\n                  \r\n                // clearGoodsData:clearGoodsData,\r\n\r\n                // customer: sendGoodsData.customer, \r\n                // orderGoodsList: sendGoodsData.orderGoodsList,\r\n                // queryGoodDataWebPage:queryGoodsData,//因為到時候要清空session購物車 用這個裝來畫頁面\r\n\r\n                // queryGoodsData:clearGoodsData,//送出訂單後 購物車要清空\r\n            }));\r\n        \r\n    };\r\n\r\n    const clearCartGoods = () => {\r\n        fetchList3();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {/* 因為要多用途所以這邊沒有名字 */}\r\n            <button onClick={clearCartGoods}>清空購物車</button>    \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ClearCarGoods\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAACC,MAAM,EAAEC,OAAO,QAAQ,OAAO;AAClE,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,OAAO,GAAG,0EAA0E;AAE1F,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAExB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B;EACA,MAAMQ,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B;;IAEA,MAAMC,cAAc,GAAG,MAAMR,KAAK,CAACS,MAAM,CAACN,OAAO,EAAC;MAAEO,eAAe,EAAE;IAAK,CAAC,CAAC,CACvEC,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACC,IAAI,CAAC,CACnBC,KAAK,CAACC,KAAK,IAAI;MAAEC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAAE,CAAC,CAAC;IACxCT,QAAQ,CAAC,cAAc,CAAC,CAAC;IACzBR,OAAO,CAAEoB,CAAC,KAAK;MACX,GAAGA,CAAC,CAAC;;MAEL;;MAEA;MACA;MACA;;MAEA;IACJ,CAAC,CAAC,CAAC;EAEX,CAAC;;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IACzBZ,UAAU,CAAC,CAAC;EAChB,CAAC;EAED,oBACIL,OAAA;IAAAkB,QAAA,eAEIlB,OAAA;MAAQmB,OAAO,EAAEF,cAAe;MAAAC,QAAA,EAAC;IAAK;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9C,CAAC;AAEd,CAAC;AAAApB,EAAA,CAnCKD,aAAa;EAAA,QAEEL,WAAW;AAAA;AAAA2B,EAAA,GAF1BtB,aAAa;AAqCnB,eAAeA,aAAa;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}